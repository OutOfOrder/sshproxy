.\" t
.\" Process this file with
.\" groff -man -Tascii sshproxyd.8
.\"
.TH SSHPROXYD 8 "OCTOBER 2006" Linux "User Manuals"

.SH NAME
sshproxyd \- sshproxy daemon

.SH SYNOPSIS

.B  sshproxyd [--config-dir \fIcfgdir\fB]
      Normal run (in the foreground).

.B  sshproxyd [--config-dir \fIcfgdir\fB] --daemon [--user \fIuser\fB]
.B [--pid \fIpidfile\fB]
      Run daemonized (in the background).

.SH DESCRIPTION

.I sshproxyd
acts as an authenticating proxy gateway for SSH2 connections.
It does not use \fIssh\fR(1) nor \fIsshd\fR(8) but implements its own SSH2
stack with the \fBparamiko\fR library.

.SH OPTIONS

.B "--config-dir (-c)"
.RS
Specify a configuration directory where \fIsshproxyd\fR will find the main
configuration file \fIsshproxy.ini\fR(5) and the private DSA private key
\fIid_dsa\fR. Default value is \fI~/.sshproxy\fR.
.RE

.B "--daemon (-d)"
.RS
Run \fIsshproxyd\fR in daemon mode. In daemon mode, \fIsshproxyd\fR puts itself
in the background and runs forever, waiting for incomming connections.
.RE

.B "--user (-u)"
.RS
Run \fIsshproxyd\fR as \fIuser\fR.
This option is mandatory if \fIsshproxyd\fR is run as root.
.RE

.B "--pid (-p)"
.RS
Record the process id of the daemon in the file \fIpidfile\fR. Default is 
\fI/var/run/sshproxyd.pid\fR.
.RE

.SH FILES

.I ~/.sshproxy/sshproxy.ini
.RS
The main configuration file. See \fIsshproxy.ini\fR for further details.
.RE
.I ~/.sshproxy/id_dsa
.RS
The private hostkey file. This hostkey is automatically generated by
\fIsshproxyd\fR at startup if it doesn't exist.
.RE
.I /var/run/sshproxyd.pid
.RS
The pid file, mostly useful when \fIsshproxyd\fR is run with the \fB-d\fR
option.

.SH ENVIRONMENT

.IP SSHPROXY_CONFIG
If non-null the full path to the configuration directory. Equivalent to the
\fB-c\fR option.

.SH DIAGNOSTICS

Two debug logs are generated when \fIsshproxyd\fR is running:

.RE
~/.sshproxy/log/paramiko.log
.RS
This file contains paramiko's debug messages, relative to the SSH2 protocol.

.RE
~/.sshproxy/log/sshproxy.log
.RS
This file contains sshproxy's debug messages, relative to authentication, ACLs
and proxying.
 
.SH BUGS

Not all features of \fIsshd\fR(8) are implemented yet. \fIsshproxyd\fR currently
provides the following features:
.RS
Remote shell
.RE
.RS
Remote command execution
.RE
.RS
X11 forwarding
.RE
.RS
scp file transfer

.RE
You can report any bug found on the sshproxy mailing list:

.RS
sshproxy@penguin.fr

.SH AUTHOR

David Guerizec <david@guerizec.net>

.SH "SEE ALSO"

.BR sshproxy-setup (1),
.BR pssh (1),
.BR pscp (1),
.BR sshproxy.ini (5),

The paramiko home page: <\fIhttp://www.lag.net/paramiko/\fR>

The sshproxy home page: <\fIhttp://penguin.fr/sshproxy/\fR>

The sshproxy online documentation:
.RS
<\fIhttp://penguin.fr/sshproxy/wiki/SshProxy/DocV0.5\fR>

