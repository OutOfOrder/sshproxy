########################################################
# pure python (pexpect style)


def send_yes():
    Send('yes\n')
    ExpectSend({"sword:": send_password})
    

def send_password():
    Send('%s\n' % PASSWORD)

Send('%s@%s\n', (USER, HOST))

ExpectSend({
    '(y/n)': send_yes,
    'sword:': send_password,
    })

########################################################
# pure python (obfuscated)

DefaultRespond({EOF: '', TIMEOUT: ''})

Send('ssh user@host\n')
Case('sword:', '(y/n)') == '(y/n)' and (
    Send('yes\n') and Respond('sword:', password)
    ) or Send(password)


########################################################
# custom language

<send>ssh user@host</send>
<expect>
    <match>
        <pattern>(y/n)</pattern>
        <send>yes
        </send>
    </match>
    <match>
        <pattern>sword:</pattern>
        <send><var name="password"/>
        </send>
    </match>
</expect>
